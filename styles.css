/* ===== カラーパレット ===== */
:root{
  --bg:#0f1220; --panel:#171a2b; --ink:#e6ecf1;
  --muted:#9fb0bd; --ok:#25b864; --warn:#ffb020; --bad:#e24a4a;
  --line:#243047;
}

/* ===== ベース ===== */
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  background:radial-gradient(1200px 600px at 10% -10%, #1b2341 0, #0c0f1a 60%, #06070b 100%) fixed;
  font-family: ui-sans-serif,system-ui,"Hiragino Kaku Gothic ProN","Meiryo",Arial;
  line-height:1.65; letter-spacing:.1px;

  /* 可変フォントサイズ：スマホで読みやすく */
  font-size: clamp(15px, 1.8vw, 16px);
}

header{padding:24px 18px 0; text-align:center}
header h1{
  margin:.2em 0 .1em;
  font-size: clamp(20px, 5.2vw, 28px);
  line-height:1.2;
}
header p{margin:0; color:var(--muted); font-size: clamp(13px, 2.9vw, 15px)}
main{max-width:880px; margin:18px auto 56px; padding:0 14px}

/* ===== カード ===== */
.card{
  background:linear-gradient(180deg,#182136,#12172a);
  border:1px solid var(--line);
  border-radius:16px;
  box-shadow: 0 10px 30px #0008;
  overflow:hidden;
}
.card header{
  display:flex; justify-content:space-between; align-items:center;
  padding:18px 18px 10px; gap:12px; flex-wrap:wrap;
}
.note{color:var(--muted); font-size:.9rem}

/* ===== フォーム ===== */
form{display:grid; gap:16px; padding:18px}

/* 横幅に応じて自動折返し。最小幅を広めに設定して読みやすさ優先 */
.grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap:12px;
}

/* 入力フィールド */
.field{
  background:#0e1426; border:1px solid var(--line);
  border-radius:12px; padding:12px 14px;
}
.field label{display:block; font-size:.92rem; color:var(--muted)}
.field input{
  width:100%; margin-top:8px; padding:12px 14px; border-radius:10px;
  border:1px solid #27324a; background:#0b1121; color:var(--ink);
  font-size:1.05rem; outline:none;
}
.field input:focus{border-color:#3f64ff; box-shadow:0 0 0 3px #3f64ff22}

/* 行レイアウト（ボタン行など） */
.row{display:flex; gap:12px; align-items:center; flex-wrap:wrap}

/* ボタン：タップターゲットを大きめに */
.btn{
  cursor:pointer; padding:12px 16px; border-radius:12px; border:1px solid #3350d8;
  background:linear-gradient(180deg,#3f64ff,#2548e0);
  color:#fff; font-weight:700; letter-spacing:.02em;
  font-size:1rem;
}
.btn.secondary{background:transparent; border-color:#3a4869; color:var(--ink)}
.btn:disabled{opacity:.5; cursor:not-allowed}

/* 結果表示 */
.result{border-top:1px dashed #2a3754; padding:18px 18px 24px; background:#0c1223}
.result h2{margin:0 0 10px; font-size:1.1rem; color:#cfe0ff}

.pill{
  display:inline-flex; align-items:center; gap:.55em;
  padding:.45em .8em; border-radius:999px; font-weight:800; font-size:1rem;
}
.pill.ok{background:#1a3a2b; color:#aef6c9; border:1px solid #2f8a5c}
.pill.warn{background:#3a2f1a; color:#ffd79a; border:1px solid #a17119}
.pill.bad{background:#3a1f22; color:#ffb4b4; border:1px solid #a33c3c}

/* キー・バリュー表 */
.kv{display:grid; grid-template-columns:160px 1fr; gap:10px 14px; margin-top:12px}
.kv .k{color:#9fb0bd}
.muted{color:var(--muted)}
.err{color:#ff9595; font-weight:700}

/* 補足 */
details{background:#0e1426; border:1px solid var(--line); border-radius:12px; padding:10px 12px}
summary{cursor:pointer}

/* === 入力グリッドのラッパー === */
.grid-wrap{
  position: relative;
  overflow-x: auto;       /* 横スクロール許可（必要時のみ出る） */
  -webkit-overflow-scrolling: touch; /* iOS慣性 */
  padding-bottom: 4px;    /* スクロールバーと干渉しない余白 */
  mask-image: linear-gradient(to right, transparent 0, black 16px, black calc(100% - 16px), transparent 100%);
}

/* 3列で折り返し（通常） */
.grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(140px, 1fr));
  gap: 12px;
  min-height: 0;
}

/* 入力カードは既存の .field でOK（大きさだけ微調整したいならここで） */

/* --- 極小端末だけ：横スクロール優先モード ---
   端末幅が非常に狭い時、3列を維持すると潰れる。
   そこでグリッド自体に最小幅を与えて、横スクロールで逃がす。
*/
@media (max-width: 380px){
  .grid{
    grid-template-columns: repeat(3, 160px); /* 3列を維持 */
    width: max(100%, 520px);                 /* コンテンツ最小幅 → はみ出した分は横スクロール */
  }
}

/* タブレット未満はボタン縦積み（既存の指定があればそのままでOK） */
@media (max-width: 720px){
  .row{ flex-direction: column; align-items: stretch; }
  .btn{ width: 100%; }
}

